<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smooth Browser Header Color</title>

<meta name="theme-color" content="#003d3d" id="theme-color-meta">

<style>
  body {
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#eee;
    font-family:sans-serif;
    transition: background-color 1s;
  }

  /* Invisible header */
  #app-header {
    opacity:0;
    height:0;
    overflow:hidden;
    background-color:#003d3d;
    transition: background-color 2s linear;
  }

  h1 { text-align:center; }
</style>
</head>
<body>

<header id="app-header"></header>
<h1>Browser header color is smoothly changing ðŸ˜Ž</h1>

<script>
const themeMeta = document.getElementById('theme-color-meta');
const header = document.getElementById('app-header');

// à¦°à¦™à§‡à¦° à¦…à§à¦¯à¦¾à¦°à§‡
const colors = ['#003d3d','#2e7d32','#005a5a','#009688','#004d40','#f44336','#ff9800','#9c27b0'];

// convert hex to rgb
function hexToRgb(hex) {
    hex = hex.replace('#','');
    let bigint = parseInt(hex,16);
    return [(bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];
}

// convert rgb to hex
function rgbToHex(r,g,b){
    return '#' + [r,g,b].map(x=>x.toString(16).padStart(2,'0')).join('');
}

// Smooth transition using requestAnimationFrame
let currentColor = hexToRgb(colors[0]);
let targetIndex = 1;

function smoothStep(){
    const targetColor = hexToRgb(colors[targetIndex]);
    let done = true;
    for(let i=0;i<3;i++){
        if(Math.abs(currentColor[i]-targetColor[i])>0.5){
            done = false;
            currentColor[i] += (targetColor[i]-currentColor[i])*0.05; // speed factor
        }
    }
    const hexColor = rgbToHex(...currentColor);
    header.style.backgroundColor = hexColor;
    themeMeta.setAttribute('content', hexColor);

    if(done){
        targetIndex = (targetIndex+1)%colors.length;
    }
    requestAnimationFrame(smoothStep);
}

// start smooth transition
smoothStep();
</script>

</body>
</html>
